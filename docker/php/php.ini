[PHP]
; Comprehensive PHP configuration for ACME-Corp platform
; Combines development and production optimizations

; ========================================
; ERROR HANDLING & LOGGING
; ========================================
; Development-friendly error handling
display_errors = On
display_startup_errors = On
log_errors = On
error_log = /var/log/php_errors.log
error_reporting = E_ALL

; ========================================
; FILE UPLOADS
; ========================================
file_uploads = On
upload_max_filesize = 100M
max_file_uploads = 20
post_max_size = 100M

; ========================================
; EXECUTION & MEMORY
; ========================================
; Optimized for development and performance
max_execution_time = 300
max_input_time = 300
memory_limit = 512M

; ========================================
; SESSIONS
; ========================================
session.cookie_httponly = On
session.use_only_cookies = On
session.cookie_secure = Off
session.gc_maxlifetime = 7200
session.gc_probability = 1
session.gc_divisor = 100

; ========================================
; DATE & TIME
; ========================================
date.timezone = "UTC"

; ========================================
; OPcache - PERFORMANCE OPTIMIZATION
; ========================================
; Enabled for maximum performance
opcache.enable = 1
opcache.enable_cli = 1
opcache.memory_consumption = 256
opcache.interned_strings_buffer = 16
opcache.max_accelerated_files = 20000
opcache.revalidate_freq = 0
opcache.fast_shutdown = 1
opcache.validate_timestamps = 0
opcache.save_comments = 1
opcache.load_comments = 1

; ========================================
; PHP-FPM PROCESS MANAGEMENT
; ========================================
; Optimized process management
pm = dynamic
pm.max_children = 50
pm.start_servers = 5
pm.min_spare_servers = 5
pm.max_spare_servers = 35
pm.max_requests = 1000

; ========================================
; PERFORMANCE OPTIMIZATIONS
; ========================================
; Realpath cache for file system performance
realpath_cache_size = 4096K
realpath_cache_ttl = 600

; ========================================
; APCu - USER DATA CACHING
; ========================================
; APCu for application-level caching
apc.enabled = 1
apc.shm_size = 128M
apc.ttl = 7200
apc.user_ttl = 7200
apc.gc_ttl = 3600
apc.max_file_size = 1M
apc.stat = 1
apc.enable_cli = 1
apc.use_request_time = 1
apc.slam_defense = 1
apc.slam_defense_timeout = 0.5
apc.write_lock = 1
apc.cache_by_default = 1
apc.filters = ""
apc.mmap_file_mask = ""
apc.preload_path = ""
apc.preload_user = ""
apc.file_update_protection = 2
apc.canonicalize = 1
apc.report_autofilter = 0
apc.lazy_functions = 0
apc.lazy_classes = 0
apc.lazy_constants = 0
apc.include_once_override = 0
apc.optimization = 0
apc.localcache = 0
apc.localcache.size = 512
apc.coredump_unmap = 0
apc.coredump_unmap_threshold = 0
apc.stat_ctime = 0
apc.recursive_guard = 0
apc.allow_cli = 1
apc.serializer = default

; ========================================
; XDEBUG - DEVELOPMENT ONLY
; ========================================
; Xdebug configuration for development debugging
xdebug.mode = debug,coverage,develop
xdebug.start_with_request = trigger
xdebug.client_host = host.docker.internal
xdebug.client_port = 9003
xdebug.log_level = 0
xdebug.discover_client_host = 1
xdebug.idekey = PHPSTORM

; ========================================
; SECURITY SETTINGS
; ========================================
; Basic security configurations
expose_php = Off
allow_url_fopen = Off
allow_url_include = Off
